<div class="auth-page-wrapper pt-5">
  <!-- auth page bg -->
  <div class="auth-one-bg-position auth-one-bg"   id="auth-particles">
      <div class="bg-overlay"></div>

      <div class="shape">
          <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1440 120">
              <path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path>
          </svg>
      </div>
  </div>

  <!-- auth page content -->
  <div class="auth-page-content">
      <div class="container">

        <div class="lbox">
          <div class="row">
            <div class="col-lg-12">
                <div class="text-center mt-sm-5 mb-4 text-white-50">
                  <div class="d-inline-block ">
              
                    <img class="auth-logo"  src="assets/images/svg/KRLogoWhiteAdj_250x28 copy0.svg" alt="" height="50">
              
            </div>
                    <p class="mt-1 fs-15 fw-medium">SHERPA</p>
                        </div>
            </div>
        </div>

  <div >
    <img src="assets/images/krIcon.png" alt="" class="img-responsive img-logo" />
    <div class="ml-2">
     
      
    </div>
  </div>
  <div *ngIf="false">
    <h5 class="mt-6">No worries at all</h5>
    <p>Enter your Email and instructions will be sent to you!</p>
   


  </div>
  <div *ngIf="stage=='otp'">
    <h5 class="mt-6">Enter One Time Password</h5>
    <p>OTP has been sent on your registered email address.</p>
    <form name="resetForm" [formGroup]="resetForm" (ngSubmit)="onSubmit(1)" novalidate>
      <ngb-alert type="danger" *ngIf="error" [dismissible]="false">{{ error }}</ngb-alert>

      <div class="form-group">
        <label for="otp">One Time Password</label>

        <input
          type="text"
          formControlName="otp"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted }"
          id="otp"
          placeholder="Enter Otp"
        />
        <div  class="invalid-feedback">
          <div *ngIf="emailerr==4">OTP is required</div>
           <div *ngIf="emailerr==5">OTP is invalid</div>
        </div>
      </div>

      <div class="mt-3">
        <button class="btn btn-secondary btn-block" type="submit">Submit</button>
      </div>

      <div class="mt-4">
        <a routerLink="/login">Back to Sign In</a>
      </div>
    </form>
  </div>

  <div *ngIf="stage=='pd'">
   
  
  <div >
    <h5 class="mt-6">Create a New Password</h5>
    <p>Please create a new password to continue</p>
       <div
 
>
  <ul>

   
    <li> Must have at least 1 Special Character (@,#,$ etc..)!
    <li> Must have minimum  6 Characters!

  </ul>

</div>
    <form     name="resetpdForm" [formGroup]="resetpdForm" (ngSubmit)="onSubmit(2)" novalidate>
      <ngb-alert type="danger" *ngIf="error" [dismissible]="false">{{ error }}</ngb-alert>

      <div class="form-group">
        <label for="pdpassword">Password</label>
        <input
          type="password"
          formControlName="pdpassword"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && fpd['pdpassword'].errors }"
          id="pdpassword"
          placeholder="Enter Password"
        />
        <div *ngIf="submitted && fpd['pdpassword'].errors" class="invalid-feedback">
          <div *ngIf="fpd['pdpassword']['errors']['required']">Password is required</div>
        </div>
      </div>
      <div class="form-group">
        <label for="repeatPassword">Repeat Password</label>
        <input
          type="password"
          formControlName="repeatPassword"
          class="form-control"

          [ngClass]="{ 'is-invalid': submitted && fpd['repeatPassword'].errors }"
          id="repeatPassword"
          placeholder="Repeat Password"
        />
        <div *ngIf="submitted && fpd['repeatPassword'].errors" class="invalid-feedback">Invalid.Please provide password as per the requirements.
          <div *ngIf="fpd['repeatPassword']['errors']['required']">Password is required</div>
           <div *ngIf="emailerr==6">Error occured.Please contact admin@knowledgeridge.com </div>
        </div>
      </div>
     
<label
  class="text-danger"
  *ngIf="resetpdForm.controls['repeatPassword'].hasError('NoPassswordMatch')"
>
  Password do not match
</label>
      <div class="mt-3">
        <button class="btn btn-secondary btn-block" type="submit">Update</button>
      </div>

      <div class="mt-4">
        <a routerLink="/login">Back to Sign In</a>
      </div>
    </form>
  </div>
</div>

<div *ngIf="stage=='init'">

 <form     name="emlForm" [formGroup]="emlForm" (ngSubmit)="onSubmit(3)" novalidate>
<div class="form-group">

  <br>
 
   <div class="row">
        <div class="col-md-12">
  <div class="modal-header p-2bg-dark">
  
  </div>
  <div class="modal-body">
    <h5 class="mb-3 text-center"> Please provide your registered email.We will send OTP to change password</h5>
  </div>

   
      <div >
        <label for="email"></label>
  <input
          type="email"
          formControlName="usremail"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted }"
          id="usremail"
          placeholder="Enter email"
        />
       <br>
        <div  style="color:red;font-size: 14px;" >
          <div *ngIf="emailerr==1">Email is required</div>
          <div *ngIf="emailerr==1">Email must be a valid email address</div>
             <div *ngIf="emailerr==3">Email is not availaable in our system.Please check the email entered or contact admin@knowledgeridge.com</div>
        </div>
          <br>
      </div>
  <div class="modal-footer">
     <button  type="submit" class="btn btn-light mx-2" >
      Ok
    </button>


      <a class="btn btn-dark" routerLink="/auth/login">Login</a>
  
    
  </div>
  </div>
  </div>
 </div>

</form>
 </div>

		  
</div>
      </div>

      <!-- end container -->
  </div>
  <!-- end auth page content -->

  <!-- footer -->
  <footer class="footer">
      <div class="container">
          <div class="row">
              <div class="col-lg-12">
                  <div class="text-center">
                      <p class="mb-0 text-muted">&copy; {{year}} Knowledge Ridge. </p>
                  </div>
              </div>
          </div>
      </div>
  </footer>
  <!-- end Footer -->
</div>
<!-- end auth-page-wrapper -->
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>